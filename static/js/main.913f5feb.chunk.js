(this["webpackJsonpmidi-trainer"]=this["webpackJsonpmidi-trainer"]||[]).push([[0],{44:function(t,e,n){t.exports=n(53)},49:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(35),i=n.n(c),u=(n(49),n(10)),o=n(36),s=n(3),f=n(54),l=s.a.create((function(t){navigator.requestMIDIAccess().then((function(e){if(0!==e.inputs.size){var n,r=Object(o.a)(e.inputs);try{for(r.s();!(n=r.n()).done;){Object(u.a)(n.value,2)[1].onmidimessage=function(e){t.next(e)}}}catch(a){r.e(a)}finally{r.f()}}else t.error("No MIDI inputs available")}),t.error)})).pipe(Object(f.a)()),p=n(23),d={get:function(){return 1+(15&this.event.data[0])}},b={get:function(){return 127&this.event.data[1]}},v={get:function(){return 127&this.event.data[2]}},m=function(t){var e=t.displayName,n=t.properties,r=t.matcher,a=Symbol(e);return{type:a,matches:r,create:function(t){return Object.create(function(t,e,n){return Object.assign(Object.create(null,t),{type:n,toString:function(){var n=this;return"".concat(e," MIDI message (").concat(Object.keys(t).map((function(t){return"".concat(t,": ").concat(n[t])})).join(", "),")")}})}(n,e,a),{event:{value:t,writable:!1}})}}},h=m({displayName:"Note Off",properties:{channel:d,key:b,velocity:v},matcher:function(t){return 128===(240&t.data[0])}}),j=m({displayName:"Note On",properties:{channel:d,key:b,velocity:v},matcher:function(t){return 144===(240&t.data[0])}}),O=m({displayName:"Unknown",properties:{status:{get:function(){return this.event.data[0]}},data1:{get:function(){return this.event.data[1]}},data2:{get:function(){return this.event.data[2]}}},matcher:function(){return!0}}),y=m({displayName:"Control Change",properties:{channel:d,controller:{get:function(){return 127&this.event.data[1]}},value:{get:function(){return 127&this.event.data[2]}}},matcher:function(t){return 176===(240&t.data[0])}}),g=m({displayName:"Program Change",properties:{channel:d,patch:{get:function(){return 127&this.event.data[1]}}},matcher:function(t){return 192===(240&t.data[0])}}),E=m({displayName:"Pitch Bend Change",properties:{channel:d,value:{get:function(){return 127&this.event.data[1]|(127&this.event.data[2])<<7}}},matcher:function(t){return 224===(240&t.data[0])}}),S=[h,j,y,g,E,O],k=n(55),w=n(8),I=n(37),N=function(){return function(t){return t.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(I.a)((function(t){return e.includes(t.type)}))}(j.type,h.type),Object(k.a)((function(t,e){return(e.type===j.type?t.add(e.key):t.delete(e.key)).sort()}),Object(w.b)()))}},R=n(56),C=n(57),$=n(62),B=n(58),A=n(59),D=n(61),U=n(60),x=function(t){return Object(p.a)((function(e){return{type:t,value:e}}))},z=function(t){return function(e){return e.pipe(Object(I.a)((function(e){return e.type===t})),Object(p.a)((function(t){return t.value})))}},L=n(38),M=n.n(L),T=n(40),X=n(39),F=n.n(X),J=["C","D\u266d","D","E\u266d","E","F","F\u266f","G","A\u266d","A","B\u266d","B"],K=[[function(t){return"".concat(t,"m9 (A)")},[3,7,10,14]],[function(t){return"".concat(t,"m9 (B)")},[10,14,15,19]],[function(t){return"".concat(t,"maj9 (A)")},[4,7,11,14]],[function(t){return"".concat(t,"maj9 (B)")},[11,14,16,19]],[function(t){return"".concat(t,"13 (A)")},[4,9,10,14]],[function(t){return"".concat(t,"13 (B)")},[10,14,16,21]]],P=function(t,e){return e.map((function(e){return t+e}))},W=function(t){return t.map((function(e){return e-t.first()}))},q={EXERCISE:Symbol("EXERCISE"),RESULT:Symbol("RESULT")},G=function(){var t=l.pipe(Object(p.a)((function(t){return S.find((function(e){return e.matches(t)})).create(t)}))),e=t.pipe(Object(p.a)((function(t){return t.toString()}))).pipe(Object(k.a)((function(t,e){return t.push(e)}),Object(w.a)())),n=t.pipe(N()),r=Object(R.a)((function(){return Object(C.a)(function(){var t=M()(0,11),e=F()(K),n=Object(u.a)(e,2),r=n[0],a=n[1],c=Object(w.a)(a).sort(),i=P(t,c);return{displayName:r(J[t]),getResult:function(t){return t.pipe(N(),Object(T.a)((function(t){return t.size?i.some((function(e,n){return e%12===t.first()%12&&W(i.slice(n)).isSuperset(W(t))}))?i.size===t.size?[!0]:[]:[!1]:[]})),Object(D.a)())}}}())})).pipe(Object(B.a)((function(e){return Object($.a)(e.pipe(x(q.EXERCISE)),e.pipe(Object(A.a)((function(e){return e.getResult(t)})),Object(D.a)(),x(q.RESULT)))})),Object(U.a)(),Object(f.a)());return{keyboardKeyState$:n,exercise$:r.pipe(z(q.EXERCISE)),solutions$:r.pipe(z(q.RESULT)),console$:e}},H=function(t){var e=Object(r.useState)(null),n=Object(u.a)(e,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){if(t){var e=t.subscribe(c);return function(){return e.unsubscribe()}}}),[t]),a},Q=(n(41),n(42),n(52),function(){var t=function(){var t=Object(r.useState)(null),e=Object(u.a)(t,2),n=e[0],a=e[1];return Object(r.useEffect)((function(){var t=G();a(t)}),[]),n}(),e=(H(null===t||void 0===t?void 0:t.keyboardKeyState$)||Object(w.c)(),H(null===t||void 0===t?void 0:t.exercise$),H(null===t||void 0===t?void 0:t.solutions$),H(null===t||void 0===t?void 0:t.console$));return t&&a.a.createElement("div",null,null===e||void 0===e?void 0:e.map((function(t){return a.a.createElement("p",null,t)})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.913f5feb.chunk.js.map